import{_ as q,M as S,r as m,O as A,P as F,Q as E,R as t,S as N,Y as l,T as e,V as P,aB as u,U as h,X as O,Z as g,aC as U,aA as B,aD as T,aO as x,aE as k,aF as b,al as G,am as L,N as w,aP as R}from"./index.fe2533e2.js";import{Q as z}from"./QSeparator.f5285a54.js";import{Q as D,a as M,b as _,c as $}from"./QCard.c6b15f76.js";import{Q as W,u as j}from"./rules.aa36618f.js";import{Q as H,u as X}from"./QPage.a64b1180.js";import"./use-dark.4dae1409.js";import"./uid.42677368.js";const f=d=>(G("data-v-16e5263d"),d=d(),L(),d),Y=f(()=>l("div",{class:"text-bold text-h5 text-center text-primary"}," SERVICIO DE ADMINISTRACION ",-1)),Z=f(()=>l("p",{class:"text-center"},"Necesitas una key para poder registrarte",-1)),J=f(()=>l("img",{class:"imgGooogle",src:"https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-logo-google-image-pixabay-6.png"},null,-1)),K={align:"center"},ee={class:"q-gutter-md q-mt-md"},ae={class:"q-mt-lg"},se=S({__name:"registrarse",setup(d){const s=X(),v=N(),{ruleEmail:V,rulePassLen:I,ruleRequired:y}=j();async function Q(){let a=prompt("Introduce tu key:");if(a===null)s.notify({message:"Cancelado"});else if(a==="")s.notify({type:"warning",message:"La key esta vacia."});else if(a==={}.VITE_clave){const o=new B;await T(w,o).then(n=>{s.notify({type:"ongoing",timeout:1e3}),x(k(b,`usuarios/${n.user.uid}`),{email:n.user.email,id:n.user.uid}).then(()=>{v.push({path:"/dashboard"})}).catch(()=>{s.notify({type:"negative",message:"Ocurrio un errror. "})})})}else s.notify({type:"negative",message:"La key es inv\xE1lida. "})}const c=m(null),p=m(null),r=m(null),C=()=>{c.value&&p.value&&r.value?r.value==={}.VITE_clave?R(w,c.value,p.value).then(a=>{x(k(b,`usuarios/${a.user.uid}`),{email:a.user.email,id:a.user.uid}).then(()=>{v.push({path:"/dashboard"})}).catch(()=>{alert("ocurrio un error")})}).catch(a=>{alert("ocurrio un error al procesar la solicitud"),console.log(a)}):(r.value=null,s.notify({type:"warning",message:"la key no es valida. "})):s.notify({type:"warning",message:"Hay una casilla que esta vacia. "})};return(a,o)=>{const n=A("router-link");return F(),E(H,{class:"bg-dark text-white flex items-center justify-center"},{default:t(()=>[l("div",null,[e(W,{onSubmit:U(C,["prevent"])},{default:t(()=>[e(D,{flat:"",class:"bg-secondary my-form"},{default:t(()=>[e(M,{class:P([u(s).screen.xs?"":"q-pa-lg"])},{default:t(()=>[Y,Z,l("div",null,[e(h,{outline:"",rounded:"",color:"secondary",class:"full-width q-mt-md bg-white",onClick:Q},{default:t(()=>[e(O,{size:"27px"},{default:t(()=>[J]),_:1}),g(" \xA0Registrarse con google ")]),_:1})]),l("div",K,[e(z,{class:"q-my-lg",color:"dark",inset:""})]),l("div",ee,[e(_,{dark:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=i=>c.value=i),label:"correo",dense:"",color:"primary",rules:[u(y),u(V)]},null,8,["modelValue","rules"]),e(_,{dark:"",outlined:"",modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=i=>p.value=i),label:"contrase\xF1a",dense:"",color:"primary",type:"password",rules:[u(y),u(I)]},null,8,["modelValue","rules"]),e(_,{dark:"",outlined:"",modelValue:r.value,"onUpdate:modelValue":o[2]||(o[2]=i=>r.value=i),label:"key",dense:"",color:"primary"},null,8,["modelValue"])])]),_:1},8,["class"]),e($,{class:"q-px-lg"},{default:t(()=>[e(h,{type:"submit",size:"lg",dense:"",label:"registrarse",outline:"",color:"primary",class:"full-width radius bg-dark"}),l("p",ae,[g(" Puedes volver al "),e(n,{to:"/login",class:"irlogin text-bold"},{default:t(()=>[g("LOGIN")]),_:1})])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})}}});var de=q(se,[["__scopeId","data-v-16e5263d"]]);export{de as default};
