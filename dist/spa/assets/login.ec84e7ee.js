import{_ as A,M as C,r as h,aA as S,O as k,P as R,Q as V,R as s,S as q,Y as a,T as e,V as F,aB as r,U as v,X as E,Z as d,aC as N,aD as P,aE as B,aF as G,aG as O,aH as z,al as D,am as T,N as p,aI as U}from"./index.fe2533e2.js";import{Q as M}from"./QSeparator.f5285a54.js";import{Q as W,a as $,b as x,c as j}from"./QCard.c6b15f76.js";import{Q as H,u as L}from"./rules.aa36618f.js";import{Q as X,u as Y}from"./QPage.a64b1180.js";import"./use-dark.4dae1409.js";import"./uid.42677368.js";const g=l=>(D("data-v-5dbe0fac"),l=l(),T(),l),Z=g(()=>a("div",{class:"text-bold text-h5 text-center text-primary"}," SERVICIO DE ADMINISTRACION ",-1)),J=g(()=>a("p",{class:"text-center"},[d("ingresa tus datos para comenzar "),a("br")],-1)),K=g(()=>a("img",{class:"imgGooogle",src:"https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-logo-google-image-pixabay-6.png"},null,-1)),ee={align:"center"},ae={class:"q-gutter-md q-mt-md text-white"},se={class:"q-mt-lg"},te=C({__name:"login",setup(l){const n=Y(),i=h(null),u=h(null),m=q(),{ruleEmail:y,rulePassLen:b,ruleRequired:_}=L(),w=new S;async function I(){await P(p,w).then(async f=>{n.notify({type:"ongoing",timeout:1e3});const{user:t}=f,c=B(G,`usuarios/${t.uid}`),o=await O(c);console.log(o.exists()),o.exists()?m.push({path:"/dashboard"}):(n.notify({type:"warning",message:"Aun no estas registrado, registrate e ingresa nuevamente. "}),z(p).then(()=>{}))})}const Q=()=>{i.value&&u.value&&U(p,i.value,u.value).then(()=>{m.push({path:"/dashboard"})}).catch(()=>{n.notify({type:"negative",message:"Usuario no encontrado. "})})};return(f,t)=>{const c=k("router-link");return R(),V(X,{class:"bg-dark text-white flex items-center justify-center"},{default:s(()=>[a("div",null,[e(H,{class:"",onSubmit:N(Q,["prevent"])},{default:s(()=>[e(W,{flat:"",class:"bg-secondary my-form"},{default:s(()=>[e($,{class:F([r(n).screen.xs?"":"q-pa-lg"])},{default:s(()=>[Z,J,a("div",null,[e(v,{outline:"",rounded:"",color:"secondary bg-grey-4",class:"full-width q-mt-md bg-white",onClick:I},{default:s(()=>[e(E,{size:"27px"},{default:s(()=>[K]),_:1}),d(" \xA0Iniciar con google ")]),_:1})]),a("div",ee,[e(M,{class:"q-my-lg",color:"dark",inset:""})]),a("div",ae,[e(x,{dark:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),label:"correo",dense:"",color:"primary",class:"text-primary",rules:[r(_),r(y)]},null,8,["modelValue","rules"]),e(x,{dark:"",outlined:"",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),label:"contrase\xF1a",dense:"",color:"dark",type:"password",rules:[r(_),r(b)]},null,8,["modelValue","rules"])])]),_:1},8,["class"]),e(j,{class:"q-px-lg"},{default:s(()=>[e(v,{type:"submit",size:"lg",dense:"",label:"iniciar",outline:"",color:"primary",class:"full-width radius bg-dark"}),a("p",se,[d(" Aun no estas registrado? "),e(c,{to:"/registrarse",class:"irRegistro text-bold"},{default:s(()=>[d("REGISTRARSE")]),_:1})])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1})}}});var ce=A(te,[["__scopeId","data-v-5dbe0fac"]]);export{ce as default};
