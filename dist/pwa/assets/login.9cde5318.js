import{_ as R,M as S,r as h,O as C,P as V,Q as s,R as k,W as a,S as e,U as q,am as r,T as v,aj as F,V as p,an as E,ao as O,ap as P}from"./index.15f4c268.js";import{Q as G}from"./QSeparator.3c7c0a95.js";import{Q as N,a as z,b as x,c as B}from"./QCard.ab10f7c4.js";import{Q as T,u as U}from"./rules.880646ad.js";import{Q as D,u as M}from"./QPage.4c9438a1.js";import{G as W,s as j,A as $,d as L,O as H,b as J,a as c,c as K}from"./firebase.7fbc5924.js";import"./index.esm2017.22ab8bcd.js";const g=l=>(O("data-v-be2ca668"),l=l(),P(),l),X=g(()=>a("div",{class:"text-bold text-h5 text-center text-primary"}," SERVICIO DE ADMINISTRACION ",-1)),Y=g(()=>a("p",{class:"text-center"},[p("ingresa tus datos para comenzar "),a("br")],-1)),Z=g(()=>a("img",{class:"imgGooogle",src:"https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-logo-google-image-pixabay-6.png"},null,-1)),ee={align:"center"},ae={class:"q-gutter-md q-mt-md text-white"},se=S({__name:"login",setup(l){const n=M(),i=h(null),u=h(null),d=k(),{ruleEmail:y,rulePassLen:b,ruleRequired:m}=U(),w=new W;async function I(){await j(c,w).then(async _=>{n.notify({type:"ongoing",timeout:1e3});const{user:t}=_,o=$(L,`usuarios/${t.uid}`),f=await H(o);console.log(f.exists()),f.exists()?d.push({path:"/dashboard"}):(n.notify({type:"warning",message:"Aun no estas registrado, registrate e ingresa nuevamente. "}),J(c).then(()=>{}))})}const Q=()=>{i.value&&u.value&&K(c,i.value,u.value).then(()=>{d.push({path:"/dashboard"})}).catch(()=>{n.notify({type:"negative",message:"Usuario no encontrado. "})})},A=()=>{d.push({path:"/registrarse"})};return(_,t)=>(C(),V(D,{class:"bg-dark text-white flex items-center justify-center"},{default:s(()=>[a("div",null,[e(T,{class:"",onSubmit:E(Q,["prevent"])},{default:s(()=>[e(N,{flat:"",class:"bg-secondary my-form"},{default:s(()=>[e(z,{class:q([r(n).screen.xs?"":"q-pa-lg"])},{default:s(()=>[X,Y,a("div",null,[e(v,{outline:"",rounded:"",color:"secondary bg-grey-4",class:"full-width q-mt-md bg-white",onClick:I},{default:s(()=>[e(F,{size:"27px"},{default:s(()=>[Z]),_:1}),p(" \xA0Iniciar con google ")]),_:1})]),a("div",ee,[e(G,{class:"q-my-lg",color:"dark",inset:""})]),a("div",ae,[e(x,{dark:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),label:"correo",dense:"",color:"primary",class:"text-primary",rules:[r(m),r(y)]},null,8,["modelValue","rules"]),e(x,{dark:"",outlined:"",modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=o=>u.value=o),label:"contrase\xF1a",dense:"",color:"dark",type:"password",rules:[r(m),r(b)]},null,8,["modelValue","rules"])])]),_:1},8,["class"]),e(B,{class:"q-px-lg"},{default:s(()=>[e(v,{type:"submit",size:"lg",dense:"",label:"iniciar",outline:"",color:"primary",class:"full-width radius bg-dark"}),a("p",{class:"q-mt-lg"},[p(" Aun no estas registrado? "),a("a",{class:"irRegistro text-bold",onClick:A},"REGISTRARSE")])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1}))}});var de=R(se,[["__scopeId","data-v-be2ca668"]]);export{de as default};
