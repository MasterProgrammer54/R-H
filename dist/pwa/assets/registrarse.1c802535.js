import{_ as q,M as A,r as m,O as S,P as F,Q as r,R as U,W as o,S as e,U as N,am as n,T as v,aj as P,V as _,an as E,ao as G,ap as O}from"./index.15f4c268.js";import{Q as B}from"./QSeparator.3c7c0a95.js";import{Q as L,a as R,b as g,c as z}from"./QCard.ab10f7c4.js";import{Q as M,u as T}from"./rules.880646ad.js";import{Q as W,u as $}from"./QPage.4c9438a1.js";import{G as j,s as D,U as h,A as b,d as x,a as w,e as H}from"./firebase.7fbc5924.js";import"./index.esm2017.22ab8bcd.js";const f=u=>(G("data-v-38063a55"),u=u(),O(),u),J=f(()=>o("div",{class:"text-bold text-h5 text-center text-primary"}," SERVICIO DE ADMINISTRACION ",-1)),K=f(()=>o("p",{class:"text-center"},"Necesitas una key para poder registrarte",-1)),X=f(()=>o("img",{class:"imgGooogle",src:"https://www.freepnglogos.com/uploads/google-logo-png/google-logo-png-logo-google-image-pixabay-6.png"},null,-1)),Y={align:"center"},Z={class:"q-gutter-md q-mt-md"},ee=A({__name:"registrarse",setup(u){const t=$(),p=U(),{ruleEmail:k,rulePassLen:Q,ruleRequired:y}=T();async function I(){let a=prompt("Introduce tu key:");if(a===null)t.notify({message:"Cancelado"});else if(a==="")t.notify({type:"warning",message:"La key esta vacia."});else if(a==="1:683633669108:web:3fe59b74eb64cfe2003fa1"){const l=new j;await D(w,l).then(s=>{t.notify({type:"ongoing",timeout:1e3}),h(b(x,`usuarios/${s.user.uid}`),{email:s.user.email,id:s.user.uid}).then(()=>{p.push({path:"/dashboard"})}).catch(()=>{t.notify({type:"negative",message:"Ocurrio un errror. "})})})}else t.notify({type:"negative",message:"La key es inv\xE1lida. "})}const d=m(null),c=m(null),i=m(null),V=()=>{d.value&&c.value&&i.value?i.value==="1:683633669108:web:3fe59b74eb64cfe2003fa1"?H(w,d.value,c.value).then(a=>{h(b(x,`usuarios/${a.user.uid}`),{email:a.user.email,id:a.user.uid}).then(()=>{p.push({path:"/dashboard"})}).catch(()=>{alert("ocurrio un error")})}).catch(a=>{alert("ocurrio un error al procesar la solicitud"),console.log(a)}):(i.value=null,t.notify({type:"warning",message:"la key no es valida. "})):t.notify({type:"warning",message:"Hay una casilla que esta vacia. "})},C=()=>{p.push({path:"/login"})};return(a,l)=>(S(),F(W,{class:"bg-dark text-white flex items-center justify-center"},{default:r(()=>[o("div",null,[e(M,{onSubmit:E(V,["prevent"])},{default:r(()=>[e(L,{flat:"",class:"bg-secondary my-form"},{default:r(()=>[e(R,{class:N([n(t).screen.xs?"":"q-pa-lg"])},{default:r(()=>[J,K,o("div",null,[e(v,{outline:"",rounded:"",color:"secondary",class:"full-width q-mt-md bg-white",onClick:I},{default:r(()=>[e(P,{size:"27px"},{default:r(()=>[X]),_:1}),_(" \xA0Registrarse con google ")]),_:1})]),o("div",Y,[e(B,{class:"q-my-lg",color:"dark",inset:""})]),o("div",Z,[e(g,{dark:"",outlined:"",modelValue:d.value,"onUpdate:modelValue":l[0]||(l[0]=s=>d.value=s),label:"correo",dense:"",color:"primary",rules:[n(y),n(k)]},null,8,["modelValue","rules"]),e(g,{dark:"",outlined:"",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=s=>c.value=s),label:"contrase\xF1a",dense:"",color:"primary",type:"password",rules:[n(y),n(Q)]},null,8,["modelValue","rules"]),e(g,{dark:"",outlined:"",modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=s=>i.value=s),label:"key",dense:"",color:"primary"},null,8,["modelValue"])])]),_:1},8,["class"]),e(z,{class:"q-px-lg"},{default:r(()=>[e(v,{type:"submit",size:"lg",dense:"",label:"registrarse",outline:"",color:"primary",class:"full-width radius bg-dark"}),o("p",{class:"q-mt-lg"},[_(" Puedes volver al "),o("a",{class:"irlogin text-bold",onClick:C},"LOGIN AQUI")])]),_:1})]),_:1})]),_:1},8,["onSubmit"])])]),_:1}))}});var ne=q(ee,[["__scopeId","data-v-38063a55"]]);export{ne as default};
